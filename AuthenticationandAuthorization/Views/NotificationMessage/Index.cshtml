
@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<h1>Home</h1>

<div class="row">
    <div class="col-md-2">
        Message
    </div>
    <div class="col-md-4">
        <input type="text" id="messageInput" />
    </div>
</div>

<div class="row">
    &nbsp;
</div>
<div class="row">
    <div class="col-6">
        <input type="button" id="sendButton" value="Send Message" />
    </div>
</div>
<div id="#chatRoom">

</div>

<div>
    <ul ></ul>
</div>


<li class="nav-item">

    <div class="dropdown">
        <a id="dLabel" class="notification-icon" role="button" data-toggle="dropdown" data-target="#" href="/page.html">
            <i class="fas fa-bell"></i>
            <span class="badge d-flex justify-content-center align-items-center">
                <span class="bagde-number">10</span>
            </span>
        </a>
        <ul class="dropdown-menu notifications" role="menu" aria-labelledby="dLabel">
            <li class="notification-heading">
                <h4 class="menu-title">Notifications</h4>
            </li>
            <li class="divider"></li>
            <li class="notifications-wrapper" id="notificationMessage">
                @*<a class="content" href="#">
                    <div class="notification-item">
                        <h4 class="item-title">Evaluation Deadline 1 · day ago</h4>
                        <p class="item-info">Marketing 101, Video Assignment</p>
                    </div>
                </a>
                <a class="content" href="#">
                    <div class="notification-item">
                        <h4 class="item-title">Evaluation Deadline 1 · day ago</h4>
                        <p class="item-info">Marketing 101, Video Assignment</p>
                    </div>
                </a>*@
            </li>

        </ul>
    </div>
</li>






@*<script>
        $(function () {
            ////creating connection variable to our weatherhub
            var connection = new signalR.HubConnectionBuilder()
                .withUrl("/notificationHub")
                .build();

            ////setup a brocastevent
            connection.on("Broadcast", function (response) {
                $("#notificationMessage").append("<li>" + response.messageBody  + "</li>");

            });

            ////catch function if something goes wrong

            connection.start().catch(function (err) {
                return console.error(err.toString());
            });

        });



    </script>

    <script>
        $(function () {
            var connection = new signalR.HubConnectionBuilder()
                .withUrl("/notificationHub")
                .build();
            //here we use then to send message
            connection.start().then(function () {
                document.getElementById("sendButton").onclick = function () {
                    var message = document.getElementById("messageInput").value;
                    //Remember if we are sending a message from the client
                    //to the server using our signalrhub we need to call invoke method
                    //alert(message);
                    connection.invoke("BroadcastFromClientOne", message)
                        .catch(function (err) {
                            return console.error(err.toString());
                        });
                }

            })
        });
    </script>*@